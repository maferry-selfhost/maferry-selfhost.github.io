<html>
<head>
  <script>
    function write_log(msg){
      var log = document.querySelector('.log');
      log.innerHTML += msg + '<br>';
    }

    async function start(){
    vid = document.querySelector('video');
    write_log('R14 Start getUserMedia');
    try {
      vid.srcObject = await navigator.mediaDevices.getUserMedia({video: {
        facingMode: 'user',
        frameRate: {
          ideal: 5,
          max: 10
        }
      }});
    } catch(e) {
      write_log('Error: ' + e);
      write_log('Name: ' + e.name);
      write_log('Message: ' + e.message);
    }
    write_log('Stop getUserMedia');
    vid.play();
  };
  </script>
  </head>
  <body onload='start()'>
    <video></video>
    <span class="log"></span>
  </body>
</html>
