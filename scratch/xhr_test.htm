<!DOCTYPE html>
<html>
<head>
<script>
function write(msg)
{
  document.querySelector('div').innerText += msg + '\n\n';
}

window.onload = function(){
    var path = window.location.href;
    write('Starting request to: ' + path);
    var xhr = new XMLHttpRequest();
    xhr.onreadystatechange = function(){write(xhr.readyState + ' ' + xhr.responseText);};
    xhr.onerror = function(e){s='Error!\n';for(i in e){s+=i+':'+e[i]+'\n';};write(s);};
    xhr.open('GET', path);
    xhr.send();
}
</script>
<body><div></div></body>
</html>
